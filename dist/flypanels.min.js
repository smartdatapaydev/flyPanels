!function(e,n){"function"==typeof define&&define.amd?define([],n(e)):"object"==typeof exports?module.exports=n(e):e.flyPanels=n(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function n(){var e=document.querySelectorAll(".flypanels-panel"),e=(y(e,function(e){e.classList.remove("visible")}),document.querySelectorAll(".flypanels-panel .flypanels-content"));y(e,function(e){e.classList.remove("visible")}),f()}function o(e){document.querySelector(e).classList.remove("visible"),document.querySelector(e+" .flypanels-content").classList.remove("visible"),f()}function s(){t.addEventListener("click",function(){n()}),t.addEventListener("animationend",()=>{t.classList.remove("fadeout")}),document.querySelector(".flypanels-panel").addEventListener("transitionend",e=>{e.propertyName});var e=document.querySelectorAll(".flypanels-button");y(e,function(t){t.addEventListener("click",function(){var e,n="#"+t.getAttribute("data-target");!function(e,n){if(typeof e.classList!=="undefined"&&e.classList.contains(n))return true;else return false}(document.querySelector(n),"visible")?(e=n,document.querySelector(e).classList.add("visible"),document.querySelector(e+" .flypanels-content").classList.add("visible"),l()):o(n)})}),c("OnAttachEvents")}function c(e){void 0!==i[e]&&i[e].call(a)}var i,a,r={},u=!!document.querySelector&&!!e.addEventListener,t=document.querySelector(".flypanels-overlay"),d={transitiontime:500,initClass:"js-flyPanels",useKeyboardEvents:!0,onInit:function(){},onOpen:function(){},onClose:function(){},onPanelTransitionEnd:function(){},OnAttachEvents:function(){},onDestroy:function(){}},l=function(){t.classList.add("fadein"),document.querySelector("body").classList.add("flypanels-open"),document.querySelector("html").classList.add("flypanels-open"),c("onOpen")},f=function(){t.classList.remove("fadein"),t.classList.add("fadeout"),document.querySelector("body").classList.remove("flypanels-open"),document.querySelector("html").classList.remove("flypanels-open"),c("onClose")},y=function(e,n,t){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.call(t,e[o],o,e);else for(var l=0,s=e.length;l<s;l++)n.call(t,e[l],l,e)};return r.destroy=function(){i&&(document.documentElement.classList.remove(i.initClass),document.removeEventListener("click",eventHandler,!1),i=null,c("onDestroy"))},r.init=function(e){var t,o,l;u&&(r.destroy(),o=e||{},l={},y(t=d,function(e,n){l[n]=t[n]}),y(o,function(e,n){l[n]=o[n]}),i=l,a=document.querySelector(i.container),!0===i.useKeyboardEvents&&document.addEventListener("keydown",function(e){"Escape"===e.key&&n()}),s(),c("onInit"))},r.closePanels=function(){o()},r});